# ========================================
# AMD Fleet Manager Configuration
# Backend Fleet API (dstack 0.20+)
# ========================================

# Backend Configuration
# Specifies which dstack backend to use for fleet provisioning
AMD_BACKEND=amddevcloud

# Fleet Configuration
AMD_FLEET_NAME=amd-mi300x-fleet
AMD_GPU_TYPE=MI300X
AMD_GPU_MEMORY=192GB

# Fleet Resource Limits
# nodes: "0..1" means 0 pre-created, max 1 on-demand
AMD_FLEET_MAX_NODES=1

# Fleet Lifecycle
# idle_duration: How long to keep instances running after task completion
# Balances cost vs reuse - 10m allows multiple submissions to reuse same instance
AMD_FLEET_IDLE_DURATION=10m

# Spot Instance Policy
# auto: Use spot instances when available for cost savings
# on-demand: Always use on-demand instances
# spot: Only use spot instances
AMD_SPOT_POLICY=auto

# Dry Run Mode
# Set to true to test fleet configuration without actually creating resources
# Set to false for production use
AMD_FLEET_DRY_RUN=false

# ========================================
# Removed Legacy Configuration (SSH Fleet)
# ========================================
# The following SSH-based configuration is NO LONGER USED
# AMD DevCloud is a cloud backend, not SSH-based on-prem servers
#
# ‚ùå REMOVED:
# - AMD_DEVCLOUD_SSH_USER
# - AMD_DEVCLOUD_SSH_KEY_PATH
# - AMD_DEVCLOUD_HOSTS
#
# These were from the old SSH Fleet approach which doesn't work
# with cloud backends like AMD DevCloud.
